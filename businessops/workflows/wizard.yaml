workflow_id: businessops_wizard
version: 0.1
defaults:
  mode: robust
  language: bilingual
  save_path: businessops/state/answers.yaml
  resume: true

globals:
  options:
    unknown:
      value: UNKNOWN
      label:
        en: "Unknown / Not sure"
        pt-br: "Não sei / Incerto"

sections:

  - id: lifecycle
    title:
      en: "Company Setup"
      pt-br: "Configuração Inicial"
    description:
      en: "This defines the wizard path and the toolkit defaults."
      pt-br: "Isso define o caminho do wizard e os padrões do toolkit."
    questions:
      - id: lifecycle_mode
        type: single_choice
        required: true
        prompt:
          en: "Is this for a brand new company or an existing one?"
          pt-br: "Isso é para uma empresa nova ou já existente?"
        options:
          - value: NEW
            label:
              en: "New company (pre-launch or early build)"
              pt-br: "Empresa nova (pré-lançamento ou início)"
          - value: EXISTING
            label:
              en: "Existing company (already operating)"
              pt-br: "Empresa existente (já em operação)"
        map_to:
          path: company.lifecycle_mode

      - id: country_mode
        type: single_choice
        required: true
        prompt:
          en: "Which country rules and defaults should the toolkit assume?"
          pt-br: "Quais regras e padrões de país o toolkit deve assumir?"
        options:
          - value: BR
            label:
              en: "Brazil (pt-BR + business conventions)"
              pt-br: "Brasil (pt-BR + práticas de negócio)"
          - value: GLOBAL
            label:
              en: "Global (generic assumptions)"
              pt-br: "Global (assunções genéricas)"
        map_to:
          path: meta.country_mode

      - id: language_preference
        type: single_choice
        required: true
        prompt:
          en: "Which language should the toolkit generate?"
          pt-br: "Em qual idioma o toolkit deve gerar os documentos?"
        options:
          - value: BILINGUAL
            label:
              en: "Bilingual (EN + PT-BR)"
              pt-br: "Bilíngue (EN + PT-BR)"
          - value: EN
            label:
              en: "English only"
              pt-br: "Somente Inglês"
          - value: PT-BR
            label:
              en: "Portuguese (Brazil) only"
              pt-br: "Somente Português (Brasil)"
        map_to:
          path: meta.language_preference

      - id: industry_pack
        type: single_choice
        required: true
        prompt:
          en: "Select a starting pack (you can add more later)."
          pt-br: "Selecione um pacote inicial (você pode adicionar mais depois)."
        options:
          - value: industry-neutral
            label:
              en: "Industry Neutral (recommended)"
              pt-br: "Neutro por Indústria (recomendado)"
          - value: health-import
            label:
              en: "Health + Import (specialization pack)"
              pt-br: "Saúde + Importação (pacote de especialização)"
        map_to:
          path: meta.packs

  - id: identity
    title:
      en: "Identity & Basics"
      pt-br: "Identidade e Informações Básicas"
    description:
      en: "Basic context about the company."
      pt-br: "Contexto básico sobre a empresa."
    questions:
      - id: company_name
        type: text
        required: false
        prompt:
          en: "Company name (optional):"
          pt-br: "Nome da empresa (opcional):"
        map_to:
          path: company.identity.name

      - id: country_specific
        type: text
        required: false
        prompt:
          en: "Country / Region (optional if already selected above):"
          pt-br: "País / Região (opcional se já selecionado acima):"
        map_to:
          path: company.identity.country

      - id: one_liner
        type: text
        required: true
        prompt:
          en: "One-line description (what you do):"
          pt-br: "Descrição em 1 linha (o que você faz):"
        map_to:
          path: company.identity.one_liner

      - id: stage
        type: single_choice
        required: true
        prompt:
          en: "Company stage:"
          pt-br: "Estágio da empresa:"
        options:
          - value: VALIDATION
            label: { en: "Validation", pt-br: "Validação" }
          - value: EARLY
            label: { en: "Early build", pt-br: "Início" }
          - value: GROWTH
            label: { en: "Growth", pt-br: "Crescimento" }
          - value: MATURE
            label: { en: "Mature", pt-br: "Madura" }
        map_to:
          path: company.identity.stage

      - id: headcount_range
        type: single_choice
        required: true
        prompt:
          en: "Team size (including founders):"
          pt-br: "Tamanho do time (incluindo fundadores):"
        options:
          - value: SOLO
            label: { en: "Solo", pt-br: "Somente eu" }
          - value: SMALL
            label: { en: "2–10", pt-br: "2–10" }
          - value: MEDIUM
            label: { en: "11–30", pt-br: "11–30" }
          - value: LARGE
            label: { en: "31+", pt-br: "31+" }
        map_to:
          path: company.identity.headcount_range

      - id: outsourced_services
        type: multi_choice
        required: true
        prompt:
          en: "Which functions are outsourced today (or planned)?"
          pt-br: "Quais funções são terceirizadas hoje (ou planejadas)?"
        options:
          - value: ACCOUNTING
            label: { en: "Accounting", pt-br: "Contabilidade" }
          - value: LEGAL
            label: { en: "Legal", pt-br: "Jurídico" }
          - value: HR_PAYROLL
            label: { en: "HR / Payroll", pt-br: "RH / Folha" }
          - value: WAREHOUSE_3PL
            label: { en: "Warehouse / 3PL", pt-br: "Armazém / 3PL" }
          - value: CUSTOMS_BROKER
            label: { en: "Customs brokerage", pt-br: "Despacho aduaneiro" }
          - value: IT_SUPPORT
            label: { en: "IT / Support", pt-br: "TI / Suporte" }
          - value: MARKETING_AGENCY
            label: { en: "Marketing agency", pt-br: "Agência de marketing" }
          - value: NONE
            label: { en: "None", pt-br: "Nenhuma" }
        map_to:
          path: company.ops.outsourced_services

  - id: market
    title:
      en: "Market & Customers"
      pt-br: "Mercado e Clientes"
    description:
      en: "Who you sell to and how you position the company."
      pt-br: "Para quem você vende e como posiciona a empresa."
    questions:
      - id: customer_type
        type: multi_choice
        required: true
        prompt:
          en: "Who do you sell to?"
          pt-br: "Para quem você vende?"
        options:
          - value: B2B
            label: { en: "B2B", pt-br: "B2B" }
          - value: B2C
            label: { en: "B2C", pt-br: "B2C" }
          - value: GOV
            label: { en: "Government / public bids", pt-br: "Governo / licitações" }
          - value: DISTRIBUTORS
            label: { en: "Distributors", pt-br: "Distribuidores" }
        map_to:
          path: company.market.customer_type

      - id: icp
        type: text
        required: true
        prompt:
          en: "Ideal Customer Profile (ICP):"
          pt-br: "Perfil do Cliente Ideal (ICP):"
        map_to:
          path: company.market.icp

      - id: top_pains
        type: text
        required: true
        prompt:
          en: "Top 3 customer pains you solve:"
          pt-br: "Top 3 dores do cliente que você resolve:"
        map_to:
          path: company.market.customer_pains

      - id: positioning
        type: text
        required: true
        prompt:
          en: "Main differentiation / positioning:"
          pt-br: "Principal diferenciação / posicionamento:"
        map_to:
          path: company.market.positioning

      - id: acquisition_channels
        type: multi_choice
        required: true
        prompt:
          en: "Main acquisition channels:"
          pt-br: "Principais canais de aquisição:"
        options:
          - value: OUTBOUND_SALES
            label: { en: "Outbound sales", pt-br: "Outbound (prospectar)" }
          - value: INBOUND
            label: { en: "Inbound / content", pt-br: "Inbound / conteúdo" }
          - value: PARTNERS
            label: { en: "Partners", pt-br: "Parceiros" }
          - value: MARKETPLACES
            label: { en: "Marketplaces", pt-br: "Marketplaces" }
          - value: ADS
            label: { en: "Paid ads", pt-br: "Anúncios pagos" }
          - value: REFERRALS
            label: { en: "Referrals", pt-br: "Indicações" }
          - value: OTHER
            label: { en: "Other", pt-br: "Outro" }
        map_to:
          path: company.market.acquisition_channels

  - id: model
    title:
      en: "Revenue & Pricing"
      pt-br: "Receita e Precificação"
    description:
      en: "How you make money and price your offers."
      pt-br: "Como você ganha dinheiro e define preços."
    questions:
      - id: revenue_model
        type: single_choice
        required: true
        prompt:
          en: "Revenue model:"
          pt-br: "Modelo de receita:"
        options:
          - value: TRANSACTIONAL
            label: { en: "Transactional", pt-br: "Transacional" }
          - value: RECURRING
            label: { en: "Recurring", pt-br: "Recorrente" }
          - value: HYBRID
            label: { en: "Hybrid", pt-br: "Híbrido" }
        map_to:
          path: company.revenue.model

      - id: pricing_model
        type: single_choice
        required: true
        prompt:
          en: "Pricing model:"
          pt-br: "Modelo de preço:"
        options:
          - value: FIXED
            label: { en: "Fixed", pt-br: "Fixo" }
          - value: TIERED
            label: { en: "Tiered", pt-br: "Por níveis" }
          - value: USAGE
            label: { en: "Usage-based", pt-br: "Por uso" }
          - value: NEGOTIATED
            label: { en: "Negotiated (case-by-case)", pt-br: "Negociado (caso a caso)" }
        map_to:
          path: company.pricing.model

      - id: discounting
        type: single_choice
        required: true
        prompt:
          en: "Do you use discounting or negotiation?"
          pt-br: "Você usa desconto ou negociação?"
        options:
          - value: YES
            label: { en: "Yes", pt-br: "Sim" }
          - value: NO
            label: { en: "No", pt-br: "Não" }
          - value: UNKNOWN
            label: { en: "Unknown / Not sure", pt-br: "Não sei / Incerto" }
        map_to:
          path: company.pricing.discounting

      - id: payment_terms
        type: text
        required: true
        prompt:
          en: "Typical payment terms (or planned):"
          pt-br: "Prazo de pagamento típico (ou planejado):"
        map_to:
          path: company.finance.payment_terms

  - id: operations
    title:
      en: "Operations & Delivery"
      pt-br: "Operações e Entrega"
    description:
      en: "How you deliver value, and what makes operations complex."
      pt-br: "Como você entrega valor e o que torna as operações complexas."
    questions:
      - id: delivery_type
        type: single_choice
        required: true
        prompt:
          en: "Main delivery type:"
          pt-br: "Tipo principal de entrega:"
        options:
          - value: INVENTORY
            label: { en: "Inventory-based", pt-br: "Baseado em estoque" }
          - value: SERVICE
            label: { en: "Service-based", pt-br: "Baseado em serviços" }
          - value: SOFTWARE
            label: { en: "Software / digital", pt-br: "Software / digital" }
          - value: MIXED
            label: { en: "Mixed", pt-br: "Misto" }
        map_to:
          path: company.ops.delivery_type

      - id: supply_chain_complexity
        type: single_choice
        required: true
        prompt:
          en: "Supply chain / operations complexity:"
          pt-br: "Complexidade da operação / cadeia de suprimentos:"
        options:
          - value: LOW
            label: { en: "Low", pt-br: "Baixa" }
          - value: MEDIUM
            label: { en: "Medium", pt-br: "Média" }
          - value: HIGH
            label: { en: "High", pt-br: "Alta" }
          - value: UNKNOWN
            label: { en: "Unknown / Not sure", pt-br: "Não sei / Incerto" }
        map_to:
          path: company.ops.complexity

      - id: outsourcing_level
        type: single_choice
        required: true
        prompt:
          en: "How much do you outsource?"
          pt-br: "Quanto você terceiriza?"
        options:
          - value: NONE
            label: { en: "None", pt-br: "Nada" }
          - value: SOME
            label: { en: "Some", pt-br: "Algumas áreas" }
          - value: HEAVY
            label: { en: "Heavy (key operations)", pt-br: "Muito (operações-chave)" }
        map_to:
          path: company.ops.outsourcing_level

      - id: order_to_cash_steps
        type: multi_choice
        required: true
        prompt:
          en: "Order-to-cash flow (select the steps you have or plan to have):"
          pt-br: "Fluxo pedido→recebimento (selecione as etapas que você tem ou planeja ter):"
        options:
          - value: LEAD
            label: { en: "Lead / opportunity", pt-br: "Lead / oportunidade" }
          - value: QUOTE
            label: { en: "Quote / proposal", pt-br: "Cotação / proposta" }
          - value: ORDER
            label: { en: "Order confirmation", pt-br: "Confirmação do pedido" }
          - value: INVOICE
            label: { en: "Invoice / billing", pt-br: "Faturamento / cobrança" }
          - value: DELIVERY
            label: { en: "Delivery", pt-br: "Entrega" }
          - value: COLLECTION
            label: { en: "Collection", pt-br: "Recebimento" }
          - value: SUPPORT
            label: { en: "Support / post-sale", pt-br: "Suporte / pós-venda" }
        map_to:
          path: company.processes.order_to_cash_steps

      - id: biggest_ops_problem
        type: text
        required: true
        prompt:
          en: "Biggest operational bottleneck today (or expected):"
          pt-br: "Maior gargalo operacional hoje (ou esperado):"
        map_to:
          path: company.ops.bottleneck

  - id: existing_only_snapshot
    title:
      en: "Current Snapshot (Existing Company)"
      pt-br: "Panorama Atual (Empresa Existente)"
    description:
      en: "Only for existing companies: helps build a more accurate diagnostic."
      pt-br: "Somente para empresas existentes: ajuda a criar um diagnóstico mais preciso."
    when:
      equals:
        lifecycle_mode: EXISTING
    questions:
      - id: company_age
        type: text
        required: true
        prompt:
          en: "How long have you been operating?"
          pt-br: "Há quanto tempo a empresa opera?"
        map_to:
          path: company.identity.company_age

      - id: revenue_range
        type: single_choice
        required: true
        prompt:
          en: "Revenue range (approx.):"
          pt-br: "Faixa de faturamento (aprox.):"
        options:
          - value: "<100K"
            label: { en: "< 100k / year", pt-br: "< 100 mil / ano" }
          - value: "100K-1M"
            label: { en: "100k–1M / year", pt-br: "100 mil–1M / ano" }
          - value: "1M-5M"
            label: { en: "1M–5M / year", pt-br: "1M–5M / ano" }
          - value: "5M-20M"
            label: { en: "5M–20M / year", pt-br: "5M–20M / ano" }
          - value: "20M+"
            label: { en: "20M+ / year", pt-br: "20M+ / ano" }
          - value: UNKNOWN
            label: { en: "Unknown / Not sure", pt-br: "Não sei / Incerto" }
        map_to:
          path: company.finance.revenue_range

      - id: gross_margin_range
        type: single_choice
        required: true
        prompt:
          en: "Gross margin range (approx.):"
          pt-br: "Faixa de margem bruta (aprox.):"
        options:
          - value: "<10%"
            label: { en: "< 10%", pt-br: "< 10%" }
          - value: "10-30%"
            label: { en: "10%–30%", pt-br: "10%–30%" }
          - value: "30-60%"
            label: { en: "30%–60%", pt-br: "30%–60%" }
          - value: "60%+"
            label: { en: "60%+", pt-br: "60%+" }
          - value: UNKNOWN
            label: { en: "Unknown / Not sure", pt-br: "Não sei / Incerto" }
        map_to:
          path: company.finance.gross_margin_range

      - id: kpis_tracked
        type: text
        required: true
        prompt:
          en: "What KPIs do you track today (if any)?"
          pt-br: "Quais KPIs você acompanha hoje (se houver)?"
        map_to:
          path: company.reporting.kpis_tracked_today

  - id: risks
    title:
      en: "Risk & Compliance"
      pt-br: "Risco e Compliance"
    description:
      en: "Basic compliance and risk context."
      pt-br: "Contexto básico de compliance e riscos."
    questions:
      - id: regulated
        type: single_choice
        required: true
        prompt:
          en: "Is your business regulated?"
          pt-br: "Seu negócio é regulado?"
        options:
          - value: YES
            label: { en: "Yes", pt-br: "Sim" }
          - value: NO
            label: { en: "No", pt-br: "Não" }
          - value: UNKNOWN
            label: { en: "Unknown / Not sure", pt-br: "Não sei / Incerto" }
        map_to:
          path: company.compliance.regulated

      - id: top_risks
        type: text
        required: true
        prompt:
          en: "List the top 3–5 risks (operational, financial, legal, market):"
          pt-br: "Liste os 3–5 principais riscos (operacional, financeiro, legal, mercado):"
        map_to:
          path: company.risks.top

  - id: goals
    title:
      en: "Goals & Roadmap Inputs"
      pt-br: "Objetivos e Entradas para Roadmap"
    description:
      en: "These goals drive the 90/180/365-day action plan outputs."
      pt-br: "Esses objetivos orientam o plano de ação 90/180/365."
    questions:
      - id: goals_90
        type: text
        required: true
        prompt:
          en: "Top goals for the next 90 days:"
          pt-br: "Principais objetivos para os próximos 90 dias:"
        map_to:
          path: company.goals.days_90

      - id: goals_180
        type: text
        required: true
        prompt:
          en: "Top goals for the next 180 days:"
          pt-br: "Principais objetivos para os próximos 180 dias:"
        map_to:
          path: company.goals.days_180

      - id: goals_365
        type: text
        required: true
        prompt:
          en: "Top goals for the next 365 days:"
          pt-br: "Principais objetivos para os próximos 365 dias:"
        map_to:
          path: company.goals.days_365
